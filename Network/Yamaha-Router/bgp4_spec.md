# BGP-4 사양

## BGP-4에 대해서

### BGP의 위치

- 현재 인터넷에서는 다양한 경로제어 프로토콜이 사용되고 있음
- 경로제어 프로토콜에는 각각의 특징이 있어, 다루는 네트워크의 규모에 따라 IGP, EGP라고 불리는 분류로 되어 있음
- IGP는 Interior Gateway Protocol의 약어로, 주로 조직내의 네트워크를 제어하는데 이용됨
  - 잘 알려진 IGP로는 RIP, OSPF, IS-IS등이 있음
- EGP는 Exterior Gateway Protocol의 약어로, IGP에서 운용되는 조직간을 소지함
  - EGP는 IGP에서 관리되는 네트워크를 연결하여 인터넷 전체의 접속성을 제공함
  - 잘 알려진 EGP로는 BGP가 있음

### BGP의 특징

- BGP에서는 인터넷이 AS(Autonomous System)이라는 부분에서 구성되어 있다고 생각함
- AS는 특정 관리주체가 통일적으로 관리하는 네트워크의 범위임
- AS에서는 AS번호라고 불리는 16비트의 식별자가 부여됨
  - 단, 64512에서 65535의 범위에 해당하는 번호는 프라이빗한 이용을 상정하고 있어, 중복해서 부여하는 것이 가능함
- BGP에는 여러가지 버전이 있지만, 현재 인터넷에서는 버전4가 주로 사용되어, 이것을 BGP-4라고 부름
  - BGP-4에 대한 기본적인 사양은 RFC1777에 제정되어 있음
- BGP-4는 BGP-3(BGP version 3)의 확장으로, CIDR(Classless Inter-Domain Routing)을 서포트하고 있다는 특징이 있음
  - 다른 경로 제어 프로토콜과 비교하여 다음과 같은 특징이 있음
  1. TCP를 사용함
     - 경로정보를 교환하는 신뢰성을 보장하기 위해, TCP 접속을 사용하여 경로정보를 교환함
     - 에러가 발생하지 않는 한, 접속을 닫지 않고 같은 접속을 영속적으로 사용하게 됨
     - 하나의 상대에 대해서 필요한 접속은 1개임
  2. 차이가 발생한 부분만 광고함
     - RIP과 같은 경로제어 프로토콜에서는 정기적으로 모든 경로를 광고하지만, BGP-4에서는 경로에 변화가 발생한 부분에 대해서만 송신함
     - 즉, 경로의 변화가 없으면 경로정보는 보내지 않음
     - 단, 킵얼라이브라고 불리는 경로정보를 포함하지 않는 메시지는 정기적으로 보낼 수 있음
  3. 패스 벡터(Path Vector)방식으로 경로를 제어함
     - 경로는 패스(Path)라고 부르는 AS번호별로 표현되어 있음
     - 패스를 보면 경로의 루프를 검출하거나, 경로의 길이등을 비교하는 등, 유용한 정보를 알수 있음
     - BGP-4에서는 경로를 표현하는 정보를 패스 속성(Path Attribute)라고 부름
