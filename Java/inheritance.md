# 상속 (inheritance)

## 상속의 정의와 장점

- 기존 클래스를 재사용하여 새로운 클래스를 작성
- 코드를 공통적으로 관리하기 때문에, 재사용성을 높이고 코드의 중복을 제거
- 자손은 생성자, 초기화 블럭을 제외한 모든 멤버를 상속받음
  - 자손의 멤버개수는 조상보다 적을 수 없음
- 조상이 같다고 해서 어떠한 관계가 성립하는 것은 아님 (형제관계 없음)

## 클래스간의 관계 - 포함관계 (composite)

### 포함(composite)이란?

- 한 클래스의 멤버변수로 다른 클래스를 선언
- 작은 단위의 클래스 여러개를 조합해서 커다란 클래스를 생성

```java
class Car { // 자동차
	Engine e = new Engine(); // 엔진
	Door[] d = new Door[4]; // 문
}
```

## 클래스간의 관계 결정하기

- 상속관계
  - 자손 is a 부모
- 포함관계
  - 부모 has a 자손
- 어떠한 관계를 맺어줄지 혼란스러울 때는 문장을 직접 만들어 보면 됨
  - 예를 들어 Car 클래스와 SportsCar 클래스와의 관계를 생각해보자
    - SportsCar is a Car ✅
    - Car has a SportsCar ❌
    - 따라서 SportsCar 클래스는 Car 클래스의 자손으로 구현하는 것이 적합
- 문장을 직접 만들어도 혼란스러울 때는 일반적으로 포함관계를 사용하는 것을 고려
  - 상속은 하나의 클래스로부터밖에 받을 수 없음
  - 모든 멤버를 전부 물려받기 때문에 신중하게 생각해야 함

## 단일 상속 (single inheritance)

- Java는 단일 상속만을 지원

```java
class TVCR extends TV, VCR { } // 이와 같은 표현은 허용하지 않음
```

- 어떠한 클래스가 관계성 높은 두 클래스로부터의 상속을 통해 코드의 재사용성을 높여야 한다면 더 관계성이 높은 클래스를 부모로 하여 상속, 다른 한쪽은 포함관계로 작성해야 함
- 다중상속을 지원하면 편리할것 같지만, 다이아몬드 상속 문제와 같은 것들이 발생하기 때문에 자바에서는 단일 상속만을 지원하기로 결정
  - 다이아몬드 문제

## Object 클래스 - 모든 클래스의 조상

- 조상이 없는 클래스는 자동적으로 Object 클래스를 상속받음
  - 따라서 상속계층도의 최상위에 Object 클래스가 위치
- 모든 클래스는 Object의 자손이므로 Object 클래스의 메서드 11개를 상속받음
