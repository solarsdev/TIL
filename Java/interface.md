# Interface

## 인터페이스란?

- 인터페이스는 추상클래스
  - 단, 추상화 정도가 높아서 추상클래스와 달리 몸통을 갖춘 일반 메서드나 멤버변수가 없음
  - 오직 추상메서드와 상수만을 멤버로 가질 수 있음

## 인터페이스의 작성

- 인터페이스는 클래스를 작성하는 방식과 동일하지만, class 키워드 대신 interface를 사용함
  - 접근제어자도 설정 가능하며, public 또는 default를 사용 가능 (default는 아무것도 없는 상태)

### 인터페이스 멤버의 제약사항

- 모든 멤버변수는 public static final이어야 하며, 이를 생략할 수 있음
- 모든 메서드는 public abstract이어야 하며, 이를 생략할 수 있음
  - 단, static메서드와 디폴트 메서드가 제외됨 (JDK 1.8~)

## 인터페이스의 상속

- 인터페이스는 인터페이스를 상속할 수 있으며, 클래스와 달리 다중상속이 허용됨
  - 다중상속이 허용되는 이유는, 클래스와 다르게 몸통이 없는 메서드만이 존재하기 때문에 결국 인터페이스의 구현체에서 그것을 구현해야 하므로, 중복이 발생해도 괜찮기 때문임

## 인터페이스의 구현

- 인터페이스로는 추상클래스처럼 인스턴스를 생성할 수 없음
- 인터페이스를 구현하는 구현체에서 모든 인터페이스의 메서드를 구현해야 함
  - 인터페이스를 일부만 구현하면 아직 구현하지 못한 메서드가 남아버리기 때문에 해당 클래스는 추상클래스가 되며 이 또한 인스턴스 작성이 불가능함

## 디폴트 메서드와 static 메서드

- 인터페이스에 디폴트 메서드, static 메서드 추가 가능 (JDK 1.8부터)
- 인터페이스에 새로운 메서드(추상 메서드)를 추가하기 어려움
  - 인터페이스에 추상 메서드를 추가하면, 인터페이스를 구현한 클래스 혹은 해당 클래스의 자손이 반드시 구현해야 하기 때문
  - 구현부가 동일한 작은 메서드를 인터페이스에 추가하고 싶을 뿐인데도, 해당 내용을 모든 곳에 전파해야 함 (코드 중복)
  → 디폴트 메서드의 등장 배경

```java
interface MyInterface {
	void method();
	default void newMethod() {}
}
```

### 디폴트 메서드가 기존의 메서드와 충돌할 때의 해결책

- 디폴트 메서드를 선언해서 간단한 구현부가 존재하는 메서드를 인터페이스에 추가할 수 있게 된것은 좋음
- 인터페이스는 다중상속을 허용하고 있는데, 이 경우에 메서드의 구현부가 다른 것들이 충돌할 가능성이 생김
  1. 여러 인터페이스 디폴트 메서드간의 충돌
     - 인터페이스를 구현한 클래스에서 디폴트 메서드를 오버라이딩 해야 함
     - 오버라이딩을 통해 다시한번 구현부를 작성해서 덮어쓰기
  2. 디폴트 메서드와 조상 클래스의 메서드 간의 충돌
     - 조상 클래스의 메서드가 상속되고, 디폴트 메서드는 무시됨
     - extends로 상속받은 조상 클래스의 메서드가 우선되며 인터페이스는 우선순위에서 밀림
     - 그게 싫으면 오버라이딩으로 구현부를 작성해서 덮어쓰기
