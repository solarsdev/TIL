# EFS

- 관리형 네트워크 파일 시스템으로 많은 EC2에 마운팅 될 수 있다
- EFS는 멀티AZ 기반으로 인스턴스들과 동작한다
- 고가용성이고 스케일링 가능하지만 가격이 비싸며, 대신 사용한 만큼만 지불하는 방식이다 (예를 들어 볼륨은 100기가정도를 프리비전 하지만 EFS는 사용한 만큼 자동책정)

![images/efs/1.png](images/efs/1.png.png)

- 컨텐츠 매니지먼트, 웹서버, 데이터 쉐어링, 워드프레스 등에 쓸만함
- NFSv4.1 프로토콜을 사용
- EFS를 제어하기 위해 보안 그룹을 이용함
- 리눅스 기반의 AMI에서만 사용 가능 (윈도우즈는 불가능)
- KMS 키를 통해 저장된 데이터를 암호화 할 수 있음

## EFS 퍼포먼스, 스토리지 클래스

- EFS 스케일
  - 1000명의 동시 NFS 클라이언트 접속, 10GB+ 처리량
  - 페타바이트 스케일의 파일 시스템으로도 자동적으로 스케일링 가능함
- 퍼포먼스 모드 (생성 시점에 설정)
  - 일반 (기본) : 지연시간이 중요한 유스케이스 (웹서버, CMS 기타 등등)
  - MAX IO : 더 낮은 지연시간, 더 높은 처리량, 병렬 처리 (빅데이터, 미디어 프로세싱 등등)
- 스토리지 티어 (라이프사이클 관리 기능 - X일 뒤에 이동 가능)
  - 스탠다드 : 일반적으로 자주 엑세스 되는 파일들
  - Infrequent access (EFS-IA) : 저렴하지만, 엑세스시에 엑세스 비용이 청구됨
